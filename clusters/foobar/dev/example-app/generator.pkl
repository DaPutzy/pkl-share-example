amends "../tenants.pkl"

local ingress: ModuleOutput = (import("../../../../generators/apps/example/ingress.pkl")) {
  tenants = module.tenants
}.output

local frontend: ModuleOutput = (import("../../../../generators/apps/example/frontend.pkl")) {
  tenants = module.tenants
}.output

output {
  files {
    ["generated/ingress.yaml"] = (ingress) {
      value = new Listing {
        for (v in ingress.value as Listing) {
          (v) {
            metadata {
              annotations {
                ["foo"] = "bar"
              }
            }
          }
        }
      }
    }
    ["generated/frontend.json5"] = (frontend) {
      value = new Listing {
        for (v in frontend.value as Listing) {
          (v) {
            foo = "bar"
          }
        }
      }
    }
  }
}
